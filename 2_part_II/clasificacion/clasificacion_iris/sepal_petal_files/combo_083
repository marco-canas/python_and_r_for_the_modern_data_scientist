YUI.add("photo-selector-photolist-interaction-view",(function(t){var e=require("hermes-core/type-validator");t.namespace("Views")[this.name]=t.Base.create(this.name,t.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this.hasMultiSelect=t.primaryPhotoListConfig&&t.primaryPhotoListConfig.hasMultiSelect,this.multiSelectLimit=void 0===t.primaryPhotoListConfig.multiSelectLimit?1:t.primaryPhotoListConfig.multiSelectLimit,this.listType=t.primaryPhotoListConfig.type,this.galleryId=t.primaryPhotoListConfig.galleryId,this.isDisabled=!1,this.isDisabledSelected=!1,this},loadState:function(){var e=this,i=[];return"galleryFaves"===this.listType&&this.galleryId&&(i.push(this.appContext.getModelRegistry("gallery-photo-association-models").then((function(t){t.exists(e.galleryId+"-"+e.get("id"))&&(e.isDisabled=!0,e.isDisabledSelected=!0)}))),i.push(this.appContext.getModel("gallery-faves-models",this.appContext.getViewer().nsid+"-"+e.galleryId).then((function(t){var i=t.getValue("nonGalleryAddablePhotos").getList(),s=!1;i&&(s=i.some((function(t){return t.id===e.get("model").id}))),s&&(e.isDisabled=!0)})))),i.push(this.appContext.getModel("profile-selected-photos-models",this.appContext.getViewer().nsid).then(function(t){t.getValue("photos").getFromListByID(this.get("model").getValue("id"))&&this.set("isActive",!0)}.bind(this))),t.Promise.all(i)},buildContainer:function(){var t=this.get("model");return this.setContainerWithTemplate("photo-selector-photo-list-photo-interaction",{photo:t.toJSON(),photoPageUrl:this.get("photoPageUrl")}),this},activate:function(){var e,i,s=this.get("container"),o=s.one(".disabled-overlay");return this.galleryId&&(e=this.intlMessage({intlName:"gallery.PHOTO_CANT_ADD_TO_GALLERY",mediaType:this.get("model").getValue("mediaType")}),i=this.intlMessage({intlName:"gallery.PHOTO_ALREADY_IN_GALLERY",mediaType:this.get("model").getValue("mediaType")})),this.registerEventHandler(s.on("click",this.selectPhoto.bind(this))),this.hasMultiSelect||this.registerEventHandler(t.on("photoSelector:subviewEvent",this.handleOtherPhotoSelected,this)),this.get("isActive")?this.get("isActive")&&s.addClass("active"):s.removeClass("active"),this.isDisabled&&(s.addClass("disabled"),o.setAttribute("title",e)),this.isDisabledSelected&&(s.addClass("disabled-selected"),o.setAttribute("title",i)),this},selectPhoto:function(e){if(e.halt(),!this.isDisabled)if(this.get("isActive")&&this.hasMultiSelect)this.set("isActive",!1),this.get("container").removeClass("active"),t.fire("photoSelector:subviewEvent",{eventName:"unselectPhotoFromPhotoList",id:this.get("id")});else{if(this.hasMultiSelect)return this.appContext.getModel("profile-selected-photos-models",this.appContext.getViewer().nsid).then(function(e){e.getValue("photos").size()+1<=this.multiSelectLimit&&(this.set("isActive",!0),this.get("container").addClass("active"),t.fire("photoSelector:subviewEvent",{eventName:"selectPhotoFromPhotoList",id:this.get("id")}))}.bind(this));this.set("isActive",!0),this.get("container").addClass("active"),t.fire("photoSelector:subviewEvent",{eventName:"selectPhotoFromPhotoList",id:this.get("id")})}},handleOtherPhotoSelected:function(t){if("selectPhotoFromPhotoList"===t.eventName&&this.get("isActive")){if(t.id===this.get("id"))return;this.set("isActive",!1),this.get("container")._node&&this.get("container").removeClass("active")}}},{ATTRS:{id:{writeOnce:"initOnly",validator:function(t,i){return e.photoId(t)}},model:{writeOnce:"initOnly"},photoPageUrl:{writeOnce:"initOnly"}}})}),"@VERSION@",{requires:["flickr-view","hermes-template-photo-selector-photo-list-photo-interaction","attribute-helpers"],optionalRequires:["fluid"],langBundles:["common","gallery"]});YUI.add("hermes-template-photo-selector-sets-photolist-set-interaction",(function(t,e){var l=t.Template.Handlebars.revive({1:function(t,e,l,n,a){var o,s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t\t<span class="album-photo-count">'+t.escapeExpression((s(l,"intlMessage")||e&&s(e,"intlMessage")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},{name:"intlMessage",hash:{selectedCount:null!=(o=null!=e?s(e,"album"):e)?s(o,"publicPhotosCount"):o,intlName:"album-page.PUBLIC_ITEMS_COUNT"},data:a,loc:{start:{line:6,column:36},end:{line:6,column:130}}}))+"</span>\n"},3:function(t,e,l,n,a){var o,s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t<span class="album-photo-count">'+t.escapeExpression((s(l,"intlMessage")||e&&s(e,"intlMessage")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},{name:"intlMessage",hash:{selectedCount:null!=(o=null!=e?s(e,"album"):e)?s(o,"totalCount"):o,intlName:"album-page.PHOTOS_COUNT"},data:a,loc:{start:{line:8,column:35},end:{line:8,column:116}}}))+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,l,n,a){var o,s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="photo-list-album-interaction photo-selector-album dark">\n\t<div class="interaction-bar">\n\t\t<h4 class="album-title">'+t.escapeExpression(t.lambda(null!=(o=null!=e?s(e,"album"):e)?s(o,"title"):o,e))+"</h4>\n"+(null!=(o=s(l,"if").call(null!=e?e:t.nullContext||{},null!=e?s(e,"publicOnlyPhotos"):e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a,loc:{start:{line:5,column:2},end:{line:9,column:9}}}))?o:"")+"\t</div>\n</div>\n"},useData:!0}),n={};t.Array.each([],(function(e){var l=t.Template.get("hermes/"+e);l&&(n[e]=l)})),t.Template.register("hermes/photo-selector-sets-photolist-set-interaction",(function(e,a){return(a=a||{}).partials=a.partials?t.merge(n,a.partials):n,l(e,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("photo-selector-sets-photolist-interaction-view",(function(t){var e=require("hermes-core/type-validator");t.namespace("Views")[this.name]=t.Base.create(this.name,t.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this.publicOnlyPhotos=t.publicOnlyPhotos,this},loadState:function(){return this.appContext.getModel(this.get("engagementModelName"),this.get("id")).then(function(t){this.set("engagement",t)}.bind(this))},buildContainer:function(){return this.setContainerWithTemplate("photo-selector-sets-photolist-set-interaction",{album:this.get("model").toJSON(),publicOnlyPhotos:this.publicOnlyPhotos,albumPageUrl:this.get("albumPageUrl")}),this},activate:function(){return this.registerEventHandler(this.get("container").on("click",this.selectSet.bind(this))),this},selectSet:function(e){e.halt(),t.fire("photoSelector:subviewEvent",{eventName:"selectSetFromPhotoList",id:this.get("id"),title:this.get("model").getValue("title")})},destructor:function(){}},{ATTRS:{id:{writeOnce:"initOnly",validator:function(t,i){return e.photoId(t)}},model:{writeOnce:"initOnly"},albumPageUrl:{writeOnce:"initOnly"},engagement:{value:null},engagementModelName:{writeOnce:"initOnly",value:null,validator:function(e,i){return t.AttributeHelpers.validateString(e)}}}})}),"@VERSION@",{requires:["flickr-view","hermes-template-photo-selector-sets-photolist-set-interaction","attribute-helpers"],optionalRequires:["fluid"],langBundles:["album-page"]});YUI.add("hermes-lang-album-page_es-us",(function(e,a){e.Intl.add("hermes/album-page","es-US",{PHOTOS_COUNT:[{type:6,value:"selectedCount",options:{one:{value:[{type:7},{type:0,value:" foto"}]},other:{value:[{type:7},{type:0,value:" fotos"}]}},offset:0,pluralType:"cardinal"}],PUBLIC_PHOTOS_COUNT:[{type:6,value:"selectedCount",options:{one:{value:[{type:7},{type:0,value:" foto pública"}]},other:{value:[{type:7},{type:0,value:" fotos públicas"}]}},offset:0,pluralType:"cardinal"}],PUBLIC_ITEMS_COUNT:[{type:6,value:"selectedCount",options:{one:{value:[{type:7},{type:0,value:" elemento público"}]},other:{value:[{type:7},{type:0,value:" elementos públicos"}]}},offset:0,pluralType:"cardinal"}],VIDEOS_COUNT:[{type:6,value:"selectedCount",options:{one:{value:[{type:7},{type:0,value:" video"}]},other:{value:[{type:7},{type:0,value:" videos"}]}},offset:0,pluralType:"cardinal"}],VIEWS_COUNT:[{type:6,value:"selectedCount",options:{one:{value:[{type:7},{type:0,value:" vista"}]},other:{value:[{type:7},{type:0,value:" vistas"}]}},offset:0,pluralType:"cardinal"}],BACK_TO_ALBUMS:[{type:0,value:"Volver a la lista de álbumes"}],EDIT_IN_ORGANIZR:[{type:0,value:"Editar en Organizr"}],EDIT_COVER:[{type:0,value:"Editar portada"}],SELECT_COVER_PHOTO:[{type:0,value:"Seleccionar una foto para la portada"}],SELECT:[{type:0,value:"Seleccionar"}],ERROR_COVER_PHOTO:[{type:0,value:"Ocurrió un problema al intentar establecer tu foto de portada. Vuelve a intentarlo."}],ERROR_UPDATING_ALBUM_TITLE_DESCRIPTION:[{type:0,value:"Se produjo un error al actualizar el título y la descripción del álbum."}],ALBUM_ADD_DESCRIPTION:[{type:0,value:"Hacer clic aquí para escribir una descripción para este álbum"}],ERROR_CREATING_PHOTOBOOK_FROM_ALBUM:[{type:0,value:"Ocurrió un problema al crear el libro para este álbum. Inténtalo de nuevo más tarde."}],ALBUM_DESCRIPTION:[{type:0,value:"Descripción del álbum"}],CREATE_BOOK_FROM_ALBUM:[{type:0,value:"Crear un libro a partir de este álbum"}],DOWNLOAD_PHOTOS_AND_VIDEO:[{type:0,value:"Descargar "},{type:6,value:"photoCount",options:{one:{value:[{type:7},{type:0,value:" foto"}]},other:{value:[{type:7},{type:0,value:" fotos"}]}},offset:0,pluralType:"cardinal"},{type:0,value:" y "},{type:6,value:"videoCount",options:{one:{value:[{type:7},{type:0,value:" video"}]},other:{value:[{type:7},{type:0,value:" videos"}]}},offset:0,pluralType:"cardinal"}],DOWNLOAD_PHOTOS:[{type:0,value:"Descargar "},{type:6,value:"photoCount",options:{one:{value:[{type:7},{type:0,value:" foto"}]},other:{value:[{type:7},{type:0,value:" fotos"}]}},offset:0,pluralType:"cardinal"}],DOWNLOAD_VIDEOS:[{type:0,value:"Descargar "},{type:6,value:"videoCount",options:{one:{value:[{type:7},{type:0,value:" video"}]},other:{value:[{type:7},{type:0,value:" videos"}]}},offset:0,pluralType:"cardinal"}],DOWNLOAD_ZIP:[{type:0,value:"Descargar zip"}],DOWNLOAD_ZIP_PART:[{type:0,value:"Descargar parte "},{type:1,value:"partSequence"},{type:0,value:" del zip"}],ALOT_OF_PHOTOS:[{type:0,value:"¡Wow, son muchas fotos! Haz clic para descargar cada lote como archivo .zip."}],DOWNLOAD_ALBUM_NOT_AVAILABLE_ERROR:[{type:0,value:"No hay fotos ni videos disponibles para descarga en este álbum."}],DOWNLOAD_ALBUM_DISABLED_ERROR:[{type:0,value:"La descarga del álbum no está disponible en este momento. Vuelve a intentarlo en unos minutos."}],DOWNLOAD_ALBUM_GENERIC_ERROR:[{type:0,value:"Ocurrió un error al descargar este álbum. Vuelve a intentarlo."}],DOWNLOAD_ALBUM_LICENSE_MESSAGE:[{type:0,value:"Es posible que estas fotos tengan uno o más tipos de licencia. Visita la página específica de la foto para obtener más información sobre la licencia antes de descargar este álbum."}],DOWNLOAD_ALBUM_LICENSE_MESSAGE_ALT:[{type:0,value:"Es posible que estas fotos tengan uno o más tipos de licencia. Antes de descargar este álbum, visita las páginas de fotos individuales para conocer el tipo de licencia designada para cada imagen."}],DOWNLOAD_ALBUM_LICENSE_MESSAGE_ALT_2:[{type:0,value:"Es posible que estas fotos tengan uno o más tipos de licencia o que sus derechos estén reservados. Antes de descargar este álbum, visita las páginas de fotos individuales para conocer el tipo de licencia designada para cada imagen."}],DOWNLOAD_ALBUM_LEARN_MORE:[{type:0,value:'Más información en <a href="https://www.flickr.com/creativecommons" target="_blank">Creative Commons</a>'}],CONFIRM_ALBUM_DELETE_NO_CONTENTS_DELETED:[{type:0,value:"¿Realmente quieres borrar este álbum? (No te preocupes, no se borrará su contenido)."}],DELETE_THIS_ALBUM:[{type:0,value:"Borrar este álbum"}],SHARE_THIS_ALBUM:[{type:0,value:"Compartir este álbum"}],CREATE_NEW_ALBUM:[{type:0,value:"Crear un álbum nuevo"}],NEW_ALBUM:[{type:0,value:"Nuevo álbum"}],NEW_COLLECTION:[{type:0,value:"Nueva colección"}],VIEW_COLLECTIONS:[{type:0,value:"Ver colecciones"}],VIEW_MY_COLLECTIONS:[{type:0,value:"Ver mis colecciones"}],SORT:[{type:0,value:"Clasificar"}],SORT_DATE_TAKEN_OLDEST:[{type:0,value:"Ordenar por fecha en que se tomó (la más antigua primero)"}],SORT_DATE_TAKEN_NEWEST:[{type:0,value:"Ordenar por fecha en que se tomó (la más nueva primero)"}],SORT_DATE_UPLOADED_OLDEST:[{type:0,value:"Ordenar por fecha de carga (la más antigua primero)"}],SORT_DATE_UPLOADED_NEWEST:[{type:0,value:"Ordenar por fecha de carga (la más nueva primero)"}],SORT_ALPHABETICALLY:[{type:0,value:"Alfabético"}],SORT_RANDOMLY:[{type:0,value:"Aleatorio"}],SORT_REVERSE:[{type:0,value:"Invertir orden actual"}],SORT_ALMOST_DONE:[{type:0,value:"Ya está casi listo…"}],TIMEOUT_FAILURE:[{type:0,value:"En este momento, estamos teniendo problemas para mostrar este álbum. Vuelve a intentarlo."}],OPENGRAPH_DESCRIPTION:[{type:0,value:"¡Explora este álbum de fotos de "},{type:1,value:"owner"},{type:0,value:" en Flickr!"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("photo-selector-view",(function(t,e){var o,i=require("hermes-core/flog")(e),s=150;o={horizontal:20,vertical:20},t.FlickrView.create(this.name,t.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return""===this.get("container").getHTML()&&this.setContainerWithTemplate("flickr-balls"),this.photoListView,this.searchPhotoListViews=[],this.publicOnlyGroups=t.publicOnlyGroups,this.publicOnlyPhotos=t.publicOnlyPhotos,this.safeOnlyPhotos=t.safeOnlyPhotos||!1,this.enableMultiSelect=t.enableMultiSelect||!1,this.multiSelectLimit=void 0===t.multiSelectLimit?1:t.multiSelectLimit,this.preSelectedPhotos=t.preSelectedPhotos||[],this.clearRegistriesOnDestroy=t.clearRegistriesOnDestroy||!1,this.selectedModels=[],t.enableVideos&&this.set("itemFilterFunction",!1),this.isUploading=!1,this},loadState:function(){var e=this.appContext.getViewer().nsid,o={};return this.safeOnlyPhotos&&(e+="-safe",o.safeSearch="true"),this.publicOnlyPhotos&&(e+="-public",o.viewAs="public"),this.appContext.getModelRegistry("profile-selected-photos-models").then(function(i){i.removeAll();var s={selectionModel:this.appContext.getModel("profile-selected-photos-models",this.appContext.getViewer().nsid),photostreamModel:this.appContext.getModel("photostream-models",e,o),setModelRegistry:this.appContext.getModelRegistry("set-models"),setsModel:this.appContext.getModel("sets-models",this.appContext.getViewer().nsid,{page:1,perPage:25}),profileModel:this.appContext.getModel("person-profile-models",this.appContext.getViewer().nsid)};return new t.FlickrPromise(s).then(this.onLoadStateResolved.bind(this))}.bind(this))},onLoadStateResolved:function(e){if(this.set("selectionModel",e.selectionModel),this.set("photostreamModel",e.photostreamModel),this.set("setsModel",e.setsModel),this.set("setModelRegistry",e.setModelRegistry),this.set("profileModel",e.profileModel),this.preSelectedPhotos&&this.preSelectedPhotos.length>0&&this.get("selectionModel").setValue("photos",this.preSelectedPhotos?this.preSelectedPhotos:[]),0===this.get("photostreamModel").getValue("totalItems")?this.set("photostreamEmpty",!0):this.set("photostreamEmpty",!1),this.get("groupId"))return this.appContext.getModel("group-pool-models",this.get("groupId")).then(function(t){this.set("groupModel",t)}.bind(this),(function(t){i.error("error loading group model",{err:t})}));this.canUpload=this.get("hasUploadCapabilities")&&!t.UserLimitsHelper.hasReachedUploadLimit(this.get("profileModel"),this.appContext)},moveElementToFirstInArray:function(t,e,o){var i;return t.forEach((function(t,s){t[o]===e&&(i=s)})),t.unshift(t.splice(i,1)[0]),t},buildContainer:function(){return this.setContainerWithTemplate("photo-selector",{hasUploadCapabilities:this.get("hasUploadCapabilities"),canUpload:this.canUpload,searchable:this.get("searchable"),publicOnlyPhotos:this.get("publicOnlyPhotos"),photostreamEmpty:this.get("photostreamEmpty"),hasGroupCapabilities:this.get("groupId")}),this},loadPhotoList:function(e,a){var r,l=this,n=this.get("container"),h=n.one(".photo-selector-photos-wrapper");this.photoListView&&this.photoListView.destroy(),a||(a=!1),r={modelParams:e,fetchParams:e.fetchParams,parentName:this.name,hasMultiSelect:this.enableMultiSelect,multiSelectLimit:this.multiSelectLimit,paginateOnScroll:!0,parentContainer:h,relayoutOnResize:!0,interactionViewName:this.get("interactionViewName"),galleryId:this.get("galleryId"),type:this.get("defaultSelected").type},this.get("itemFilterFunction")&&(r.itemFilterFunction=this.get("itemFilterFunction")),r.layout={targetRowHeight:s,containerWidth:r.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:20,bottom:10,left:20},itemSpacing:o,forceAspectRatio:1,alwaysDisplayOrphans:!1,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:h.get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=r,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:r,isActiveViewAgnostic:!0,container:n.one(".photo-selector-photos-container")}).then((function(e){return e.initialize().then((function(e){var o,i=n.one(".photo-selector-photos-container"),s=i.one(".photo-list-view"),r=n.one(".loader");h.getDOMNode().scrollTop=0,l.photoListView=e,r&&r.addClass("loaded"),s.hasChildNodes()||(o=a?t.Node.create('<p class="no-results">'+l.intlMessage({intlName:"search.NO_MATCHES_FOR_QUERY_TERM_YOUR"})+"</p>"):l.publicOnlyPhotos?t.Node.create('<p class="no-results">'+l.intlMessage({intlName:"common.PHOTO_SELECTOR_EMPTY_PUBLIC_PHOTOS"})+"</p>"):t.Node.create('<p class="no-results">'+l.intlMessage({intlName:"common.PHOTO_SELECTOR_EMPTY_PHOTOS"})+"</p>"),s.empty(),i.prepend(o)),l.addPhotoToSelection(null)}))}),(function(t){i.error("Error getting view",{err:t})}))},loadSelectionPhotoList:function(){var e,a=this,r=this.get("container"),l=r.one(".photo-selector-photos-wrapper");this.photoListView&&this.photoListView.destroy(),(e={parentName:this.name,hasMultiSelect:this.enableMultiSelect,multiSelectLimit:this.multiSelectLimit,paginateOnScroll:!0,initialItems:this.get("selectionModel").getValue("photos").getList(),parentContainer:l,relayoutOnResize:!0,interactionViewName:"photo-selector-selection-interaction-view"}).layout={targetRowHeight:s,containerWidth:e.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:20,bottom:10,left:20},itemSpacing:o,forceAspectRatio:1,alwaysDisplayOrphans:!0,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:l.get("offsetHeight")},this.get("itemFilterFunction")&&(e.itemFilterFunction=this.get("itemFilterFunction")),this.appContext.params.primaryPhotoListConfig=e,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:e,isActiveViewAgnostic:!0,nsid:this.appContext.getViewer().nsid,container:r.one(".photo-selector-photos-container")}).then((function(e){return e.initialize().then((function(e){var o,i=r.one(".photo-selector-photos-container"),s=i.one(".photo-list-view"),n=r.one(".loader");i.addClass("photo-selector-selection-photolist"),l.getDOMNode().scrollTop=0,a.photoListView=e,n&&n.addClass("loaded"),s.hasChildNodes()||(o=t.Node.create('<p class="no-results">'+a.intlMessage({intlName:"profile.NO_PHOTOS_SELECTED"})+"</p>"),s.empty(),i.prepend(o))}))}),(function(t){i.error("Error getting view",{err:t})}))},loadGroupPhotoList:function(e){var a,r=this,l=this.get("container"),n=l.one(".group-photo-selector-photos-wrapper");this.photoListView&&this.photoListView.destroy(),a={modelParams:e,parentName:this.name,paginateOnScroll:!0,parentContainer:n,relayoutOnResize:!0,interactionViewName:this.get("interactionViewName")},this.get("itemFilterFunction")&&(a.itemFilterFunction=this.get("itemFilterFunction")),a.layout={targetRowHeight:s,containerWidth:a.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:20,bottom:10,left:20},itemSpacing:o,forceAspectRatio:1,alwaysDisplayOrphans:!1,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:n.get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=a,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:a,isActiveViewAgnostic:!0,container:n}).then((function(e){return e.initialize().then((function(e){var o,i=l.one(".group-photo-selector-photos-container"),s=i.one(".photo-list-view");n.getDOMNode().scrollTop=0,r.photoListView=e,l.one(".loader").addClass("loaded"),s.hasChildNodes()||(o=t.Node.create('<p class="no-results">'+r.intlMessage({intlName:"groups.GROUP_POOL_CONTAINS_NO_PUBLIC_PHOTOS"})+"</p>"),s.empty(),i.prepend(o)),r.addPhotoToSelection(null)}))}),(function(t){i.error("Error getting view",{err:t})}))},loadSetsPhotoList:function(t){var e,s=this,a=this.get("container");this.photoListView&&this.photoListView.destroy(),(e={modelParams:t,parentName:this.name,paginateOnScroll:!0,parentContainer:a.one(".photo-selector-photos-wrapper"),relayoutOnResize:!0,interactionViewName:this.get("setsInteractionViewName"),engagementModelName:"set-models",viewBeaconRestrictedAttribute:"primaryNeedsInterstitial"}).layout={targetRowHeight:200,containerWidth:e.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:20,bottom:10,left:20},itemSpacing:o,forceAspectRatio:1,alwaysDisplayOrphans:!1,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:a.one(".photo-selector-photos-wrapper").get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=e,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:e,isActiveViewAgnostic:!0,container:a.one(".photo-selector-photos-container")}).then((function(t){return t.initialize().then((function(t){var e=a.one(".loader");a.one(".photo-selector-photos-container .photo-list-view");a.one(".photo-selector-photos-wrapper").getDOMNode().scrollTop=0,s.photoListView=t,e&&a.one(".loader").addClass("loaded"),s.addPhotoToSelection(null)}))}),(function(t){i.error("Error getting view",{err:t})}))},loadSearchPhotoList:function(t){var e,a=this,r=this.get("container"),l=t.photoListContainerSelector?r.one(t.photoListContainerSelector):r.one(".photo-selector-photos-container"),n=t.parentContainerSelector?r.one(t.parentContainerSelector):r.one(".photo-selector-photos-wrapper"),h=t.maxNumRows?this.get("limitedRowsPhotoListViewName"):this.get("photoListViewName");this.searchPhotoListViews&&this.searchPhotoListViews[t.listId]&&this.searchPhotoListViews[t.listId].destroy(),e={modelParams:t.modelParams,parentName:this.name,paginateOnScroll:!0,parentContainer:n,relayoutOnResize:!0,interactionViewName:this.get("interactionViewName"),engagementModelName:"photo-lite-models"},this.get("itemFilterFunction")&&(e.itemFilterFunction=this.get("itemFilterFunction")),e.layout={targetRowHeight:s,containerWidth:e.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:0,bottom:10,left:0},itemSpacing:o,forceAspectRatio:1,maxNumRows:t.maxNumRows?t.maxNumRows:Number.POSITIVE_INFINITY,alwaysDisplayOrphans:!!t.alwaysDisplayOrphans&&t.alwaysDisplayOrphans,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:n.get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=e,this.appContext.getView(h,{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:e,isActiveViewAgnostic:!0,container:l,searchUrl:t.searchUrl,listId:t.listId}).then((function(e){return e.initialize().then((function(e){a.registerEventHandler(e.on("subviewViewEvent",a.handleSubviewEvent,a)),r.one(".photo-selector-search-lists-wrapper").getDOMNode().scrollTop=0,t.parentContainerSelector&&(r.one(t.parentContainerSelector).getDOMNode().scrollTop=0),a.searchPhotoListViews[t.listId]=e,r.one(".loader").addClass("loaded"),a.addPhotoToSelection(null)}))}),(function(t){i.error("Error getting view",{err:t})}))},activate:function(){var e,o=this.get("container"),i=this.get("defaultSelected");return this.registerEventHandler(o.on("click",this.handleClick,this)),this.canUpload&&this.registerEventHandler(o.one(".file-select").on("change",this.handleFileSelect,this)),this.registerEventHandler(t.on("photoSelector:subviewEvent",this.handleSubviewEvent,this)),i?"group"===i.type?(e={registryName:"group-pool-models",modelIdOrAttributes:this.get("groupId")+"-public",collectionAttributeName:"photoPageList"},this.publicOnlyGroups&&(e.fetchParams={privacyFilter:1},e.modelIdOrAttributes+="-public"),this.toggleGroupSelector(),this.loadGroupPhotoList(e),this.toggleTitleBar(i.title,"group")):"gallery"===i.type?(e={registryName:"gallery-info-models",modelIdOrAttributes:i.id,collectionAttributeName:"photoList"},this.loadPhotoList(e)):"galleryFaves"===i.type?(e={registryName:"gallery-faves-models",modelIdOrAttributes:this.get("defaultSelected").id,collectionAttributeName:"photoList",fetchParams:{galleryId:this.get("galleryId")}},this.loadPhotoList(e)):(e={registryName:"set-models",modelIdOrAttributes:i.id,collectionAttributeName:"photoPageList",fetchParams:{}},this.publicOnlyPhotos&&(e.modelIdOrAttributes+="-public",e.fetchParams.filter=1),this.safeOnlyPhotos&&(e.modelIdOrAttributes+="-safe",e.fetchParams.moderationFilter=1),this.loadPhotoList(e),this.toggleTitleBar(i.title,"set")):0===this.get("photostreamModel").getValue("totalItems")?this.get("hasUploadCapabilities")?(this.toggleUploader(),this.hideTitleBar()):this.toggleTitleBar(this.intlMessage({intlName:"common.PHOTO_SELECTOR_EMPTY_PUBLIC_PHOTOS"},"empty",!1)):(e={registryName:"photostream-models",modelIdOrAttributes:this.appContext.getViewer().nsid,collectionAttributeName:"photoPageList",fetchParams:{}},this.safeOnlyPhotos&&(e.modelIdOrAttributes+="-safe",e.fetchParams.safeSearch="true"),this.publicOnlyPhotos&&(e.modelIdOrAttributes+="-public",e.fetchParams.viewAs="public"),this.loadPhotoList(e,!1)),this},toggleUploader:function(){this.get("hasUploadCapabilities")&&(this.get("container").one(".photo-selector-photos-wrapper").addClass("is-hiding"),this.photoListView&&this.get("container").one(".photo-selector-photos-container").empty().append(this.templates("flickr-balls")({})),this.get("container").one(".photo-selector-search-lists-wrapper").addClass("is-hiding"),this.get("container").one(".photo-selector-upload").removeClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").addClass("is-hiding"))},toggleSelector:function(){this.get("hasUploadCapabilities")&&this.get("container").one(".photo-selector-upload").addClass("is-hiding"),this.get("container").one(".photo-selector-search-lists-wrapper").addClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").addClass("is-hiding"),this.get("container").one(".photo-selector-photos-wrapper").removeClass("is-hiding")},toggleSearchListsSelector:function(){this.get("hasUploadCapabilities")&&this.get("container").one(".photo-selector-upload").addClass("is-hiding"),this.get("container").one(".photo-selector-photos-wrapper").addClass("is-hiding"),this.photoListView&&this.get("container").one(".photo-selector-photos-container").empty().append(this.templates("flickr-balls")({})),this.get("container").one(".photo-selector-search-lists-wrapper").removeClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").addClass("is-hiding")},toggleGroupSelector:function(){var t=this.get("container").one(".photo-selector-upload");t&&t.addClass("is-hiding"),this.get("container").one(".photo-selector-photos-wrapper").addClass("is-hiding"),this.photoListView&&this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").empty().append(this.templates("flickr-balls")({})),this.get("container").one(".photo-selector-search-lists-wrapper").addClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").removeClass("is-hiding")},toggleTitleBar:function(e,o,i){var s=this.get("container"),a=s.one(".photo-selector-title-bar"),r=a.one(".back-to-list"),l="";void 0===i&&(i=!0),"search"===o&&e&&(e='"'+e+'"'),"set"===o?l=this.intlMessage({intlName:"common.PHOTO_SELECTOR_BACK_TO_ALBUM_LIST"}):"search"===o&&(l=this.intlMessage({intlName:"common.PHOTO_SELECTOR_BACK_TO_SEARCH_LIST"})),i?r.removeClass("hidden"):r.addClass("hidden"),r.one(".back-to-list-text").set("text",l),a.one(".title").set("text",t.Handlebars.helpers.truncate(e,120)),a.removeClass("hidden"),s.one(".photo-selector-photos-wrapper").addClass("showing-title"),s.one(".photo-selector-search-lists-wrapper").addClass("showing-title"),this.get("groupId")&&s.one(".group-photo-selector-photos-wrapper").addClass("showing-title")},hideTitleBar:function(){var t=this.get("container");t.one(".photo-selector-title-bar").addClass("hidden"),t.one(".photo-selector-photos-wrapper").removeClass("showing-title"),this.get("groupId")&&t.one(".group-photo-selector-photos-wrapper").removeClass("showing-title")},onParentViewEvent:function(e,o){var i,s,a,r=o[1],l={},n=this.get("searchable"),h=this.get("container").one(".no-results");if("navigation"===o[0])if("upload"===(i=r.target._node.dataset.value))this.get("hasUploadCapabilities")&&(this.toggleUploader(),this.hideTitleBar()),this.get("fileDragDrop")?this.get("fileDragDrop").reset():this.canUpload&&(this.set("fileDragDrop",new t.HtmlFileDragDrop({dropZone:".photo-selector-upload > .drop-zone"})),this.get("fileDragDrop").on("drop",this.handleFileDrop,this));else{if(this.get("hasUploadCapabilities")&&this.toggleSelector(),"group"===i)s={registryName:"group-pool-models",modelIdOrAttributes:this.get("groupId"),collectionAttributeName:"photoPageList"},this.publicOnlyGroups&&(s.fetchParams={privacyFilter:1},s.modelIdOrAttributes+="-public"),this.toggleGroupSelector(),this.loadGroupPhotoList(s);else if("photostream"===i){if(0===this.get("photostreamModel").getValue("totalItems"))return h&&h.remove(),void(this.get("hasUploadCapabilities")?(this.toggleUploader(),this.hideTitleBar()):this.toggleTitleBar(this.intlMessage({intlName:"common.PHOTO_SELECTOR_EMPTY_PUBLIC_PHOTOS"},"empty",!1)));s={registryName:"photostream-models",modelIdOrAttributes:this.appContext.getViewer().nsid,collectionAttributeName:"photoPageList",fetchParams:{}},this.safeOnlyPhotos&&(s.modelIdOrAttributes+="-safe",s.fetchParams.safeSearch="true"),this.publicOnlyPhotos&&(s.modelIdOrAttributes+="-public",s.fetchParams.viewAs="public"),this.loadPhotoList(s)}else if("sets"===i){if(0===this.get("setsModel").getValue("totalItems")){var p=this.get("container").one(".photo-list-view");return h&&h.remove(),this.toggleTitleBar(this.intlMessage({intlName:"common.PHOTO_SELECTOR_NO_ALBUMS"},"empty",!1)),void p.empty()}s={registryName:"sets-models",modelIdOrAttributes:this.appContext.getViewer().nsid,collectionAttributeName:"albumsList"},this.loadSetsPhotoList(s)}else"gallery"===i?(s={registryName:"gallery-info-models",modelIdOrAttributes:this.get("galleryId"),collectionAttributeName:"photoList"},this.loadPhotoList(s)):"galleryFaves"===i?(s={registryName:"gallery-faves-models",modelIdOrAttributes:this.get("defaultSelected").id,collectionAttributeName:"photoList",fetchParams:{galleryId:this.get("galleryId")}},this.loadPhotoList(s)):this.loadSelectionPhotoList();this.hideTitleBar()}else"search"===o[0]&&(a=new t.SearchUrl(r.apiParams,this.appContext),this.toggleSearchListsSelector(),n.yours&&(this.searchUrlYourPhotos=new t.SearchUrl(r.apiParams,this.appContext),this.searchUrlYourPhotos.setAPIParam("user_id",this.appContext.getViewer().nsid),n.contacts||n.everyone?(l.listId="yours",l.photoListContainerSelector=".photo-selector-search-list-yours .photo-selector-search-list-container",l.parentContainerSelector=".photo-selector-search-list-yours",l.maxNumRows=1,l.alwaysDisplayOrphans=!0,l.searchUrl=this.searchUrlYourPhotos,l.modelParams={registryName:"search-photos-lite-models",modelIdOrAttributes:this.searchUrlYourPhotos.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlYourPhotos.getAPIParams()}},this.publicOnlyPhotos&&(s.fetchParams.privacyFilter=1),this.loadSearchPhotoList(l)):(this.toggleSelector(),s={registryName:"search-photos-lite-models",modelIdOrAttributes:this.searchUrlYourPhotos.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlYourPhotos.getAPIParams(),additionalExtras:["o_dims"]}},this.publicOnlyPhotos&&(s.fetchParams.privacyFilter=1),this.loadPhotoList(s,!0))),n.contacts&&(this.searchUrlContactsPhotos=new t.SearchUrl(r.apiParams,this.appContext),this.searchUrlContactsPhotos.setAPIParam("user_id",this.appContext.getViewer().nsid),this.searchUrlContactsPhotos.setAPIParam("contacts","all"),l.listId="contacts",l.photoListContainerSelector=".photo-selector-search-list-contacts .photo-selector-search-list-container",l.parentContainerSelector=".photo-selector-search-list-contacts",l.maxNumRows=1,l.alwaysDisplayOrphans=!0,l.searchUrl=this.searchUrlContactsPhotos,l.modelParams={registryName:"search-photos-lite-models",modelIdOrAttributes:this.searchUrlContactsPhotos.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlContactsPhotos.getAPIParams()}},this.loadSearchPhotoList(l)),n.everyone&&(this.searchUrlEveryonePhotos=new t.SearchUrl(r.apiParams,this.appContext),l.listId="everyone",l.photoListContainerSelector=".photo-selector-search-list-everyone .photo-selector-search-list-container",l.parentContainerSelector=".photo-selector-search-list-everyone",l.maxNumRows=1,l.alwaysDisplayOrphans=!0,l.searchUrl=this.searchUrlEveryonePhotos,l.modelParams={registryName:"search-photos-lite-models",modelIdOrAttributes:r.id,collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlEveryonePhotos.getAPIParams()}},this.loadSearchPhotoList(l)),this.toggleTitleBar(a.getAPIParams().text,"search",!1))},handleSubviewEvent:function(e){var o,i,s;return"selectPhotoFromPhotoList"===e.eventName?(o={photoModel:this.appContext.getModel("photo-models",e.id)},new t.FlickrPromise(o).then(function(t){t.photoModel.isOwner&&this.set("photoSource",this.get("photoSourceOwnImage")),this.enableMultiSelect&&this.hasReachMultiSelectLimit()||this.addPhotoToSelection(t.photoModel.id,t.photoModel)}.bind(this))):"unselectPhotoFromPhotoList"===e.eventName?(o={photoModel:this.appContext.getModel("photo-models",e.id)},new t.FlickrPromise(o).then(function(t){t.photoModel.isOwner&&this.set("photoSource",this.get("photoSourceOwnImage")),this.removePhotoFromSelection(t.photoModel.id,t.photoModel)}.bind(this))):"selection:remove"===e.eventName?(o={photoModel:this.appContext.getModel("photo-models",e.model.getValue("id"))},new t.FlickrPromise(o).then(function(t){t.photoModel.isOwner&&this.set("photoSource",this.get("photoSourceOwnImage")),this.removePhotoFromSelection(t.photoModel.id,t.photoModel,!0)}.bind(this))):void("selectSetFromPhotoList"===e.eventName?(i={registryName:"set-models",modelIdOrAttributes:e.id,collectionAttributeName:"photoPageList",fetchParams:{}},this.publicOnlyPhotos&&(i.modelIdOrAttributes+="-public",i.fetchParams.filter=1),this.safeOnlyPhotos&&(i.modelIdOrAttributes+="-safe",i.fetchParams.moderationFilter=1),this.loadPhotoList(i,!1),this.toggleTitleBar(e.title,"set")):e.details&&"viewEntireSearchList"===e.details[0]&&(i={registryName:"search-photos-lite-models",modelIdOrAttributes:e.details[1].searchUrl.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:e.details[1].searchUrl.getAPIParams()}},this.publicOnlyPhotos&&(i.fetchParams.privacyFilter=1),this.toggleSelector(),this.loadPhotoList(i),s="search.YOUR_PHOTOS","contacts"===e.details[1].list?s="search.FROM_YOUR_CONTACTS":"everyone"===e.details[1].list&&(s="search.EVERYONES_PHOTOS"),s=this.intlMessage({intlName:s}),this.toggleTitleBar(s+": "+e.details[1].searchUrl.getAPIParams().text,"search")))},handleClick:function(t){var e=t.target;this.isUploading||(e.ancestor(".back-to-list",!0)?this.fire("subviewViewEvent","backToList"):e.ancestor(".simulate-file-select",!0)&&(t.halt(),this.get("container").one(".file-select").set("value",""),this.get("container").one(".file-select").getDOMNode().click()))},handleSelectPhoto:function(e){var o;if(o={photoModel:this.appContext.getModel("photo-models",e.getData("photo-id"))},!e.hasClass("invalid"))return this.set("photoSource",this.get("photoSourceOwnImage")),new t.FlickrPromise(o).then(function(t){this.addPhotoToSelection(t.photoModel.id,t.photoModel)}.bind(this))},hasReachMultiSelectLimit:function(){return this.get("selectionModel").getValue("photos").size()===this.multiSelectLimit},addPhotoToSelection:function(e,o){if(null===e)this.set("selected",null),t.fire("photoSelector:unselected");else if(e&&this.enableMultiSelect){var i=this.get("selectionModel").getValue("photos");this.hasReachMultiSelectLimit()||i.find(o)||(i.push(o),t.fire("photoSelector:selected",{hasWarning:!1,photoId:e}),this.updateSelectCountText(i.size()))}else e&&(this.set("selected",e),t.fire("photoSelector:selected",{hasWarning:!1,photoId:e}))},updateSelectCountText:function(e){var o=this.multiSelectLimit-e;t.fire("photoSelector:updateCount",{count:o})},removePhotoFromSelection:function(e,o,i){var s=this.get("selectionModel").getValue("photos");s.find(o)&&(s.removeFromList(e)&&(t.fire("photoSelector:unselected",{hasWarning:!1,photoId:e,wasLastPhotoSelected:0===s.size()}),this.updateSelectCountText(s.size()),i&&this.loadSelectionPhotoList()))},handlePhotoSetSelector:function(t){var e;this.get("hasUploadCapabilities")&&this.toggleSelector(),e={registryName:"set-models",modelIdOrAttributes:this.publicOnlyPhotos?t+"-public":t,collectionAttributeName:"photoPageList"},this.publicOnlyPhotos&&(e.fetchParams={filter:1}),this.loadPhotoList(e)},handlePhotoUploaded:function(t){this.appContext.getModelRegistry("photostream-models").then(function(e){e.attributeSearch({normalizedId:this.appContext.getViewer().nsid},!0).forEach((function(t){e.remove(t)})),this.addPhotoToSelection(t.id,t),this.fire("actionClick",t),this.resetUploader()}.bind(this),function(t){this.appContext.err(t)}.bind(this))},handleFileSelect:function(t){var e;(e=t.target.getDOMNode().files[0])&&e.name&&this.uploadFile(e)},pollTicket:function(e){if(this.uploadTimer){if(t.moment().diff(this.uploadTimer,"seconds")>this.get("maxUploadTimeAllowed"))return this.showUploadError("GENERIC")}else this.uploadTimer=t.moment();this.appContext.callAPI("flickr.photos.upload.checkTickets",{tickets:e}).then(function(t){var o;t&&t.stat&&("ok"!==t.stat&&this.showUploadError("GENERIC"),t.uploader&&t.uploader.ticket instanceof Array&&(o=t.uploader.ticket[0])&&o.id===e&&(1===o.complete?this.appContext.getModel("photo-models",o.photoid).then(this.handlePhotoUploaded.bind(this),(function(t){this.showUploadError("GENERIC")})):2===o.complete?this.showUploadError("FILE_TYPE"):setTimeout(function(){this.pollTicket(e)}.bind(this),1e3)))}.bind(this),function(t){this.showUploadError("GENERIC")}.bind(this))},resetUploader:function(){this.clearUploadError(),this.get("container").one(".drop-zone").removeClass("uploading"),this.get("container").removeClass("uploading"),this.isUploading=!1,this.uploadTimer=void 0},uploadFile:function(e){var o,s,a,r=new FormData,l=t.config.flickr.api.hostname_client_upload;this.clearUploadError(),this.get("container").one(".drop-zone").addClass("uploading"),this.get("container").addClass("uploading"),this.isUploading=!0,r.append("api_key",t.SiteKey.getKey()),r.append("csrf",t.config.flickr.csrf.token),r.append("photo",e,e.name),r.append("async","1"),r.append("is_public","0"),r.append("is_friend","0"),r.append("is_family","0"),r.append("content_type","1"),(o=this._imgFileXhr=new XMLHttpRequest).open("POST",l,!0),o.withCredentials=!0,s=function(t){var e="object"==typeof t?t.target.statusText:t+"";i.error("Error during upload",{statusText:e}),this.resetUploader(),this.showUploadError("GENERIC")},a=function(e){var o,i,a,r;try{i=(r=t.one(e.currentTarget.responseXML)).one("rsp").getAttribute("stat")}catch(t){i="",o=""}return"ok"!==i?s((i||"empty")+": "+(o||"no message")):(a=r.one("ticketid").get("text"),this.pollTicket(a))},o.addEventListener("load",a.bind(this)),o.addEventListener("error",s.bind(this)),o.send(r)},clearUploadError:function(){this.get("container").one(".upload-error").setHTML("")},showUploadError:function(t){this.resetUploader(),this.get("container").one(".upload-error").setHTML(this.intlMessage({intlName:this.get("errorMessages")[t]})),this.get("fileDragDrop").showError()},handleFileDrop:function(t){this.isUploading||(t instanceof Error?this.showUploadError(t.message):this.uploadFile(t))},destructor:function(){this.photoListView&&this.photoListView.destroy()}},{ATTRS:{maxUploadTimeAllowed:{readOnly:!0,value:20},errorMessages:{readOnly:!0,value:{GENERIC:"common.PHOTO_SELECTOR_ERROR_MESSAGE_GENERIC",FILE_TYPE:"common.PHOTO_SELECTOR_ERROR_MESSAGE_FILE_TYPE",FILE_SIZE:"common.PHOTO_SELECTOR_ERROR_MESSAGE_FILE_SIZE",FILE_COUNT:"common.PHOTO_SELECTOR_ERROR_MESSAGE_FILE_COUNT",LOW_QUALITY:"common.PHOTO_SELECTOR_ERROR_MESSAGE_LOW_QUALITY",COLOR_SPACE:"common.PHOTO_SELECTOR_ERROR_MESSAGE_COLOR_SPACE"}},photoSourceOwnImage:{readOnly:!0,value:1},hasUploadCapabilities:{value:!0},photoListViewName:{value:"photo-selector-photolist-view"},limitedRowsPhotoListViewName:{value:"photo-selector-limited-rows-photolist-view"},searchable:{value:{yours:!0,contacts:!0,everyone:!0}},interactionViewName:{value:"photo-selector-photolist-interaction-view"},setsInteractionViewName:{value:"photo-selector-sets-photolist-interaction-view"},itemFilterFunction:{value:function(t){return!t.getValue("isVideo")}},defaultSelected:{value:!1},selected:{},groupId:{},galleryId:{}}})}),"@VERSION@",{requires:["flickr-view","flickr-promise","flickr-api","html-file-dragdrop","hermes-template-photo-selector","photo-selector-photolist-view","photo-selector-limited-rows-photolist-view","photo-selector-photolist-interaction-view","photo-selector-sets-photolist-interaction-view","user-limits-helper","site-key"],optional:["search-photos-lite-models"],langBundles:["common","wallart","search","groups","profile","upload-blocking"]});YUI.add("hermes-lang-wallart_es-us",(function(e,a){e.Intl.add("hermes/wallart","es-US",{WALL_ART:[{type:0,value:"Cuadros"}],YOU_CANCELLED_THIS_ITEM_ON_DATE:[{type:0,value:"Cancelaste el pedido de este artículo el "},{type:3,value:"date",style:"monthYear"},{type:0,value:"."}],YOU_ORDERED_THIS_ITEM_ON_DATE:[{type:0,value:"Hiciste el pedido de este artículo el "},{type:3,value:"date",style:"monthYear"},{type:0,value:"."}],RETURN_TO_YOUR_ORDER_HISTORY:[{type:0,value:"Volver a tu historial de pedidos"}],SELECT_A_PHOTO:[{type:0,value:"Seleccionar una foto"}],SELECT_PRODUCT:[{type:0,value:"Seleccionar producto"}],PHOTO_MOUNT:[{type:0,value:"Pósteres enmarcados"}],CANVAS:[{type:0,value:"Lienzo"}],CANVAS_WRAP:[{type:0,value:"Impresión en lienzo"}],PREMIUM_LUSTRE:[{type:0,value:"Con brillo de primera calidad"}],GLOSSY:[{type:0,value:"Satinado"}],MATTE:[{type:0,value:"Mate"}],SIZE:[{type:0,value:"Tamaño"}],CHECKOUT:[{type:0,value:"Finalizar compra"}],REORDER:[{type:0,value:"Cambiar el orden"}],TOTAL:[{type:0,value:"Total"}],UPLOAD:[{type:0,value:"Subir"}],CURATED_COLLECTIONS:[{type:0,value:"Colecciones destacadas"}],CREATIVE_COMMONS:[{type:0,value:"Creative Commons"}],NASA:[{type:0,value:"NASA"}],ABSTRACT:[{type:0,value:"Abstracto"}],ANIMALS:[{type:0,value:"Animales"}],PATTERNS:[{type:0,value:"Estampados"}],FOOD:[{type:0,value:"Comida"}],LANDSCAPES:[{type:0,value:"Paisajes"}],TRAVEL:[{type:0,value:"Viajes"}],MY_ALBUMS:[{type:0,value:"Mis álbumes"}],PRODUCT_DROPUP_CANVAS:[{type:0,value:'Impresión en lienzo profesional en marco de madera de 1,25"'}],PRODUCT_DROPUP_MOUNTED:[{type:0,value:'Papel fotográfico acabado con borde con textura de madera de 1"'}],MATERIAL_DROPUP_LUSTRE:[{type:0,value:"Professional Crystal Archive - Con brillo de primera calidad"}],MATERIAL_DROPUP_GLOSSY:[{type:0,value:"Professional Crystal Archive - Con brillo"}],MATERIAL_DROPUP_MATTE:[{type:0,value:"Professional Crystal Archive - Mate"}],SIZES_MODAL_SIZES_NOT_AVAILABLE:[{type:0,value:"Algunos tamaños no están disponibles debido a la resolución de la foto. Más información."}],MOUNTED_SAFE_AREA:[{type:0,value:"El área fuera de la línea sólida no se imprimirá. <br>Dentro de la línea está el área segura."}],CANVAS_SAFE_AREA:[{type:0,value:"El área fuera de la línea de puntos se imprimirá en el marco. <br>El área dentro de la línea se imprimirá en el frente."}],SAVING:[{type:0,value:"Guardando..."}],SAVED:[{type:0,value:"Se guardaron todos los cambios."}],WITH_CODE:[{type:0,value:"con el código:"}],FREE_SHIPPING_WITH_CODE:[{type:0,value:"Envío gratuito con el código:"}],PRODUCT_DESCRIPTION_CANVAS_PART_1_8X10:[{type:0,value:'Enmarcado de 8" × 10"'}],PRODUCT_DESCRIPTION_CANVAS_PART_1_10X8:[{type:0,value:'Enmarcado de 10" × 8"'}],PRODUCT_DESCRIPTION_CANVAS_PART_1_12X12:[{type:0,value:'Enmarcado de 12" × 12"'}],PRODUCT_DESCRIPTION_CANVAS_PART_1_11X14:[{type:0,value:'Enmarcado de 11" × 14"'}],PRODUCT_DESCRIPTION_CANVAS_PART_1_14X11:[{type:0,value:'Enmarcado de 14" × 11"'}],PRODUCT_DESCRIPTION_CANVAS_PART_1_16X20:[{type:0,value:'Enmarcado de 16" × 20"'}],PRODUCT_DESCRIPTION_CANVAS_PART_1_20X16:[{type:0,value:'Enmarcado de 20" × 16"'}],PRODUCT_DESCRIPTION_CANVAS_PART_1_20X24:[{type:0,value:'Enmarcado de 20" × 24"'}],PRODUCT_DESCRIPTION_CANVAS_PART_1_24X20:[{type:0,value:'Enmarcado de 24" × 20"'}],PRODUCT_DESCRIPTION_CANVAS_PART_1_20X30:[{type:0,value:'Enmarcado de 20" × 30"'}],PRODUCT_DESCRIPTION_CANVAS_PART_1_30X20:[{type:0,value:'Enmarcado de 30" × 20"'}],PRODUCT_DESCRIPTION_CANVAS_PART_2:[{type:0,value:'Bastidor de 1,25"<br>Marco resistente a impactos<br>Eganches para colgar incluidos'}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_8X10:[{type:0,value:'Impresión montada de 8" × 10"'}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_10X8:[{type:0,value:'Impresión montada de 10" × 8"'}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_12X12:[{type:0,value:'Impresión montada de 12" × 12"'}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_11X14:[{type:0,value:'Impresión montada de 11" × 14"'}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_14X11:[{type:0,value:'Impresión montada de 14" × 11"'}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_16X20:[{type:0,value:'Impresión montada de 16" × 20"'}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_20X16:[{type:0,value:'Impresión montada de 20" × 16"'}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_20X30:[{type:0,value:'Impresión montada de 20" × 30"'}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_30X20:[{type:0,value:'Impresión montada de 30" × 20"'}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_MATTE:[{type:0,value:'Acabado mate<br>Borde con textura de madera de 1"<br>Orificios ya hechos para facilitar la colocación'}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_GLOSSY:[{type:0,value:'Acabado con brillo<br>Borde con textura de madera de 1"<br>Orificios ya hechos para facilitar la colocación'}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_LUSTRE:[{type:0,value:'Acabado con brillo de primera calidad<br>Borde con textura de madera de 1"<br>Orificios ya hechos para facilitar la colocación'}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_MATTE_KICKSTAND:[{type:0,value:'Acabado mate<br>Borde con textura de madera de 1"<br>Orificios ya hechos para facilitar la colocación y soporte para exhibición de sobremesa'}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_GLOSSY_KICKSTAND:[{type:0,value:'Acabado con brillo<br>Borde con textura de madera de 1"<br>Orificios ya hechos para facilitar la colocación y soporte para exhibición de sobremesa'}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_LUSTRE_KICKSTAND:[{type:0,value:'Acabado con brillo de primera calidad<br>Borde con textura de madera de 1"<br>Orificios ya hechos para facilitar la colocación y soporte para exhibición de sobremesa'}],PHOTO_TOO_SMALL_IN_SELECTED_SIZE:[{type:0,value:'Esta foto es demasiado pequeña para imprimirse en el tamaño que seleccionaste. Encontraremos el mejor tamaño más cercano automáticamente. <a href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567">Más información</a>'}],BAD_SIZES:[{type:0,value:'Algunos tamaños no están disponibles debido a la resolución de la foto. <a target="_blank" href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567">Más información</a>'}],NOT_AVAILABLE:[{type:0,value:"No disponible debido a la resolución de la foto"}],UPLOADR_ERROR_MESSAGE_GENERIC:[{type:0,value:"Ocurrió un problema al subir tu foto. Vuelve a intentarlo."}],UPLOADR_ERROR_MESSAGE_FILE_TYPE:[{type:0,value:"Al parecer, el tipo de archivo de esta foto no es válido. Sube una foto en formato PNG o JPG."}],UPLOADR_ERROR_MESSAGE_FILE_SIZE:[{type:0,value:"Al parecer, esta foto es demasiado grande para subirse. Podemos subir fotos con un tamaño máximo de 250 MB."}],UPLOADR_ERROR_MESSAGE_FILE_COUNT:[{type:0,value:"Selecciona solo una foto para subir."}],UPLOADR_ERROR_MESSAGE_LOW_QUALITY:[{type:0,value:'Al parecer, esta foto no cumple con los requisitos mínimos para su impresión. Selecciona una foto de al menos 975 &times; 825 píxeles. Más información sobre los <a href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567" target="_blank">requisitos</a> para la impresión.'}],UPLOADR_ERROR_MESSAGE_COLOR_SPACE:[{type:0,value:'Lo sentimos, pero no podemos imprimir fotos con espacios de colores CMYK o ProPhoto RGB. Recomendamos fotos con un espacio de colores sRGB. <a href="https://help.yahoo.com/kb/flickr/creations-faq-sln22216.html?impressions=true#cont33" target="_blank">Más información</a>.'}],DRAG_DROP_TO_UPLOAD:[{type:0,value:'Arrastra y coloca tu foto para subirla o <a href="#" class="simulate-file-select">búscala</a>.'}],PHOTOS_UPLOADED_AS_PRIVATE:[{type:0,value:'Las fotos que se suban aquí se añadirán a tu <a href="/me/">Galería</a> de manera privada.'}],LOW_QUALITY_ZOOM_HANDLE_TOOLTIP_CANVAS:[{type:0,value:"Con este grado de acercamiento, tu foto se imprimirá a baja calidad. Aleja la imagen para comprar."}],LOW_QUALITY_ZOOM_HANDLE_TOOLTIP_MOUNTED:[{type:0,value:"Con este grado de acercamiento, tu foto se imprimirá a baja calidad. Aleja la imagen para comprar."}],INITIAL_DIALOG_CANVAS_DISABLED:[{type:0,value:"No podemos imprimir esta foto en un lienzo debido a su baja resolución. La foto debe tener una resolución de al menos 975 px × 825 px."}],INITIAL_DIALOG_MOUNTED_DISABLED:[{type:0,value:"No podemos hacer un póster con esta foto debido a su baja resolución. La foto debe tener una resolución de al menos 1000 px × 800 px. "}],GO_BACK:[{type:0,value:"Regresar"}],PHOTO_NOT_LARGE_ENOUGH_TO_ROTATE:[{type:0,value:"Esta foto no es lo suficientemente grande para girar a una orientación diferente."}],CHANGE_SIZE:[{type:0,value:"Cambiar tamaño"}],CHANGE_PHOTO:[{type:0,value:"Cambiar foto"}],CREATIONS:[{type:0,value:"Creaciones"}],VIEW_ORDER_HISTORY:[{type:0,value:"Ver historial de pedidos"}],COMPLETED:[{type:0,value:"Completado"}],IN_PROGRESS:[{type:0,value:"En curso"}],CREATE_NEW:[{type:0,value:"Crear nuevo"}],CREATIONS_EMPTY_WALLART:[{type:0,value:"No hay cuadros para mostrar."}],CREATIONS_EMPTY_BOOKS:[{type:0,value:"No hay libros de fotos para mostrar."}],CREATIONS_EMPTY_TERTIARY:[{type:0,value:'Mostraremos las creaciones en progreso y finalizadas aquí.<br>Más información sobre <a href="/create" title="">Cuadros</a> y <a href="/create" title="">Libros de fotos</a>.'}],CREATIONS_NOT_ABLE_DELETE:[{type:0,value:"No pudimos eliminar esta creación. Vuelve a intentarlo más tarde."}],PHOTO_FOR_WALLART_DELETED:[{type:0,value:"Se eliminó la foto para este cuadro."}],DELETE_THIS_WALLART:[{type:0,value:"Eliminar este cuadro"}],REORDER_THIS_WALLART:[{type:0,value:"Cambiar el orden de este cuadro"}],EDIT_THIS_WALLART:[{type:0,value:"Editar este cuadro"}],CHANGE_PAPER:[{type:0,value:"Cambiar papel"}],MATERIAL_DROPUP_LUSTRE_NEW:[{type:0,value:"El acabado lustre perlado le da una apariencia realista a tus fotos. Proporciona la saturación de colores del brillo y la resistencia a las huellas digitales del acabado mate."}],MATERIAL_DROPUP_GLOSSY_NEW:[{type:0,value:"Un acabado brillante impecable con un aspecto de alto contraste para que tus fotos se vean vívidas y claras. Excelente para las fotos con mucho reflejo como las de agua, metales y el cielo."}],MATERIAL_DROPUP_MATTE_NEW:[{type:0,value:"Un acabado mate elegante con menos contraste para realzar la textura de tus fotos. Resiste a las huellas digitales y es excelente para las fotos en blanco y negro."}],ON_SALE:[{type:0,value:"A la venta"}],PRODUCT_DESCRIPTION_CANVAS_PART_2_PREVIEW:[{type:0,value:'<span>Bastidor de 1,25"</span><span>Marco resistente a impactos</span><span>Aditamentos para colgar incluidos</span>'}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_MATTE_PREVIEW:[{type:0,value:'<span>Acabado mate</span><span>Borde con textura de madera de 1"</span><span>Orificios ya hechos para facilitar la colocación</span>'}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_GLOSSY_PREVIEW:[{type:0,value:'<span>Acabado con brillo</span><span>Borde con textura de madera de 1"</span><span>Orificios ya hechos para facilitar la colocación</span>'}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_LUSTRE_PREVIEW:[{type:0,value:'<span>Acabado con brillo de primera calidad</span><span>Borde con textura de madera de 1"</span><span>Orificios ya hechos para facilitar la colocación</span>'}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_MATTE_KICKSTAND_PREVIEW:[{type:0,value:'<span>Acabado mate</span><span>Borde con textura de madera de 1"</span><span>Orificios ya hechos para facilitar la colocación y soporte para exhibición de sobremesa</span>'}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_GLOSSY_KICKSTAND_PREVIEW:[{type:0,value:'<span>Acabado con brillo</span><span>Borde con textura de madera de 1"</span><span>Orificios ya hechos para facilitar la colocación y soporte para exhibición de sobremesa</span>'}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_LUSTRE_KICKSTAND_PREVIEW:[{type:0,value:'<span>Acabado con brillo de primera calidad</span><span>Borde con textura de madera de 1"</span><span>Orificios ya hechos para facilitar la colocación y soporte para exhibición de sobremesa</span>'}],PHOTO_BOOK:[{type:0,value:"Libro de fotos"}],GLOSSY_HARDCOVER_BOOK_PREMIUM_LUSTRE_PAPER:[{type:0,value:"Libro de tapa dura brillante de 11 × 8,5 pulg. con papel ilustración de alto gramaje"}],LOW_QUALITY_WARNING:[{type:0,value:"No se puede imprimir esta foto porque la resolución es demasiado baja."}],INVALID_COLORSPACE_WARNING:[{type:0,value:"No se puede imprimir esta foto porque utiliza un espacio de colores que no es compatible."}],LOW_QUALITY_TYPE_WARNING:[{type:0,value:"No se puede imprimir esta foto con este tipo de cuadro porque la resolución es demasiado baja."}],NO_COMPLETED_ORDER:[{type:0,value:"No se completó ningún pedido."}]})}),"@VERSION@",{requires:["intl"]});